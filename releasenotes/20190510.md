# 2019/05/10

The 2019/05/10 release of EnOS offers the following udpates:

## What's New?

This section lists the new services and features in this release.

### Common Services

We added support for resource management so that you can request new resources or scale up your resources from EnOS Console.

#### Resource Management

This is the initial release of this service. The initial release includes the following features:
- Requesting resource: requests new resource based on your business needs.
- Scaling up resource: extends your capacity to accommodate the increasing business needs.

Availability: In this release, you can only manage the following resources from the EnOS Console:
- Stream analytics computing resources
- Time series database (TSDB)

For more information, see [Resource Management](/docs/enos/en/latest/resourcemanagement/overview.html).

#### Data Connection

You can synchronize your data from the Azure BLOB database. Before you start to synchronize, you'll need to create a connection to the database, for more information, see [Configuring an Azure BLOB data connection](/docs/offline-data/en/latest/data_source/connecting_blob.html).

### Device Management

We added support for batch creation of devices and new asset service APIs.

#### Batch Creation of Devices

- We added support for batch creation of devices to improve the efficiency of device connection. You can import a template (in the `.xlsx` format) to create a maximum of 1000 devices in batch at one time. The template can be obtained / generated in the following methods:
  - Download a blank template.
  - Create a template based on an existing device and fill in the information of your device records.
For more information, see [Creating Devices in Batch](/docs/device-connection/en/latest/howto/device/manage/creating_device_in_batch).

#### Offline Message Integration.

Initial release. EnOS provides a data integration channel for 3rd-party systems, users can use offline message integration to import historical device data from 3rd-party systems into EnOS. The data will be processed, stored, and analysed with user-defined policies.

#### Asset service APIs

- `uploadAssetMeasurepoints`: Enables non-device asset nodes to report measure point data to EnOS.
- `updateAsset`: Updates asset information. Supports updating specified key-value pairs instead of fully update.
- `searchTrees`: Get detailed asset tree information with asset tree tags.
- `searchNodePathByAssetId`: Search nodes in the asset tree to which the specified asset is bound to.
- `getEvent`: Gets detailed information of an event reported from a device. The event to query is specified by event ID.
- `searchEvent`: Gets detailed information of events that match search conditions.

For more information, log into EnOS Console and select **EnOS API > API Documents > Asset Service** and **EnOS API > API Documents > Connect Service**.

### Data Asset Management

We added a template for electric power calculation and supported processing offline stream data. You can now process and store offline time series data integrated into EnOS.

#### Stream Analytics

Electric power calculation template: Initial release. This template calculates daily electric power based on the electric meter readings. The initial release includes the following functions:
- Sum of delta calculation method: Obtains the delta of electric meter readings in each time interval. Then sum up the deltas in all time intervals of the day to get the daily electric power.
- Daily electric power: Outputs the daily electric power.
- Detailed electric power: Optionlly, outputs electric power of a given time interval.

For more information, see [Electric Power Calculation Template](/docs/data-asset/en/latest/learn/pi_template_overview.html).

#### Offline Message Analytics and Management

Initial release. Supports calculation and management of offline time series data integrated from 3rd-party systems through MQTT channels. The initial release includes the following functions:

- Stream analytics of offline data: This processing has separate computing resources and therefore is billed separately from real-time data.
- Storage of offline data based on policy: When the offline messages are integrated into EnOS and ingested based on the associated model, you can configure the storage policy for the data just as what you can do with the real-time ingested data. Currently, you can only configure the TSDB storage policy for data ingested through offline message integration.

For more information, see [Creating a Stream Processing Job](/docs/data-asset/en/latest/howto/stream/creating_job.html).

#### Resource Management

Initial release. After scaling up your stream analytics resources or when starting new stream analytics jobs, you can pause and restart one or multiple running jobs to re-allocate resources for these jobs to optimize the resource usage.

For more information, see [Monitoring the Stream Processing Job](/docs/data-asset/en/dev/howto/stream/monitoring_job.html).

<!--#### Archive Storage Policy

Initial release. You can use this feature to archive data rarely visited but taking up much storage. The data to be archived will be archived in the storage system under the path you configured. This feature includes the following functions:
- Archiving data reported from device or data that have been stream analyzed.
- Defining the attributes of the data to be archived, including format, encoding, column delimiter, compression format, and maximum file size.
- Configuring archiving period based on data size and time sensitivity of your business needs. The value range of the archiving period is 1 to 24 hours. You can now archive your data to Amazon BLOB storage.-->


#### New Data Service APIs

- `getAssetsCurrentDayElectricPower`: Obtains the total daily electric power produced or consumed by a device.
- `getAssetsElectricPowerData`: Obtains the electric power production or consumption data of a device.
- `filterAssetsLatestData`: Filters latest measure point data based on conditions.

For more information, log into EnOS Console and select **EnOS API > API Document > Data Service**.



## What's Changed?

This section lists the enhancements and changed behaviors of this release.

### EnOS Edge

A preview release of the next-generation EnOS Edge. EnOS Edge communicates with EnOS IoT Hub based on the EnOS-defined MQTT protocol. In this release, EnOS Edge follows the device connectivity and management standards of the current release of EnOS. 

#### Edge Management

The following features are added in EnOS Console:

- Viewing the current version, device key, and other basic information of an Edge.
- Adding an EnOS Edge to EnOS.

#### Upload Type

In the previous release, you could define the upload type, or data reporting method, in **Model**. The types, including reporting upon change (CHANGE), real-time reporting (REALTIME), or periodical reporting (TIMER), applies to all Edge devices. 

In this preview release, you can define upload types in **Edge Gateway > Template**. You can use different methods for templates under one model.

#### Script for Calculation

In the previous release, you configure the script for calculating measure points in **Model**. The script applies to all Edge devices.
In the preview release, you can configure the script in **Edge Gateway > Template**. The script applies only to devices that uses the template to get connected to the Edge device.

#### Protocols

- The protocol list of this preview does not overlap with that of the previous release. For more information, see [Protocol list for EnOS Edge](/docs/enos-edge/en/dev/appendix/protocol_list).
- When you update the device protocols to this preview release, you can select the devices whose protocols to be upgraded.


#### Device Connection

In this preview release, you can no longer configure protocols in **Edge Gateway > Template**. Instead, you can now select a model and configure measure points. When you connect new devices to Edge, you must select the corresponding protocol type and protocol, associating one device with only one protocol.

#### Templates

- In this preview release, you can map one measure point to collection and control point at the same time.
- We improved the way you edit mapping and measure point list file (point.cvs). 



